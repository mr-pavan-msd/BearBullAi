import streamlit as st
from streamlit_autorefresh import st_autorefresh

# Configure Streamlit page
st.set_page_config(page_title="Bear Bull AI", layout="wide")

# Sidebar Settings
with st.sidebar:
    st.title("âš™ Settings")
    refresh_rate = st.slider("Auto-refresh interval (seconds):", 10, 300, 60)

# UI: Header & Stock Search
st.markdown("""
    <h1 style='text-align: center; color: white;'>ğŸ» Bear Bull <span style='color: red;'>AI</span></h1>
""", unsafe_allow_html=True)

# Auto-refresh
st_autorefresh(interval=refresh_rate * 1000, key="data_refresh")

# Multi-Stock Watchlist
st.markdown("### ğŸ“Œ Multi-Stock Watchlist")
watchlist = ["TCS.NS", "INFY.NS", "HDFCBANK.NS", "ICICIBANK.NS"]
cols = st.columns(len(watchlist))
for i, stock in enumerate(watchlist):
    with cols[i]:
        if st.button(stock):
            st.session_state["selected_stock"] = stock
            st.page_link("pages/charts.py", label="ğŸ“ˆ View Chart", icon="ğŸ“Š")

# Market Gainers & Losers
st.markdown("### ğŸ“ˆ Todayâ€™s Gainers & Losers")
col1, col2 = st.columns(2)
with col1:
    st.markdown("#### ğŸš€ Top Gainers")
    for stock in ["RELIANCE.NS", "TATASTEEL.NS", "AXISBANK.NS"]:
        if st.button(stock):
            st.session_state["selected_stock"] = stock
            st.page_link("pages/charts.py", label="ğŸ“ˆ View Chart", icon="ğŸ“Š")

with col2:
    st.markdown("#### ğŸ“‰ Top Losers")
    for stock in ["ITC.NS", "HCLTECH.NS", "WIPRO.NS"]:
        if st.button(stock):
            st.session_state["selected_stock"] = stock
            st.page_link("pages/charts.py", label="ğŸ“ˆ View Chart", icon="ğŸ“Š")

# Bottom Navigation Buttons
st.markdown("---")
col1, col2, col3, col4, col5 = st.columns(5)
with col1:
    st.button("ğŸ  Home")
with col2:
    st.button("ğŸ“Š Dashboard")
with col3:
    st.button("ğŸ”” Stock Alerts")
with col4:
    st.button("ğŸ¤– AI Chat")
with col5:
    st.button("ğŸ’¼ Portfolio")
